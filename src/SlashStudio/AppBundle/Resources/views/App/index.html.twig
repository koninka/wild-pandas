{% extends '::base.html.twig' %}

{% block headline %}
{% endblock %}

{% block container %}
  <div class="wrapper">
    <div class="row without_margin">
      <!-- example for instagram helper usage -->
      {% for photo in instagram %}
        <div style="width: 1000px; margin: 30px auto;">
          <img src={{ photo.lr_url }} style="width:{{ photo.lr_width }}px; height:{{ photo.lr_height }}px">
          <img src={{ photo.sr_url }} style="width:{{ photo.sr_width }}px; height:{{ photo.sr_height }}px">
        </div>
      {% endfor %}
      <div id="myCarousel" class="carousel slide col-xs-9 slider" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          {% for slide in slides %}
            <li data-target="#myCarousel" {% if loop.index == 1 %}class="active"{% endif %} data-slide-to="{{ loop.index - 1 }}"></li>
          {% endfor %}
        </ol>
        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
          {% for slide in slides %}
            <div class="item {% if loop.index == 1 %}active{% endif %}">
              <!--{{ slide.getTitle() }}
              {{ slide.getSubtitle() }}-->
              {% media slide.image, 'big' %}
            </div>
          {% endfor %}
        </div>

        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <div class="joinus col-xs-3">
        <h2>{{ 'team.join' | trans }}</h2>
        {% for flashMessage in app.session.flashbag.get('notice') %}
          HUI
          <div class="flash-notice">
            {{ flashMessage }}
          </div>
        {% else %}
          {{ form(join_form) }}
        {% endfor %}
      </div>
    </div>
    <section class="team">
      <h1>{{ 'title.team' | trans }}</h1>
      <div class="row without_margin">
        <div class="team_photo col-xs-4">
          {% media team.image, 'main' %}
        </div>
        <div class="team_info col-xs-5">
          <div class="descr">{{ team.getDescription() }}</div>
          <div class="achivements">
            <ul>
              {% for achievement in team.achievements %}
                <li>{{ achievement.getName() }}</li>
                <div>{% media achievement.image, 'logo' %}</div>
              {% endfor %}
            </ul>
          </div>
        </div>
        <div class="team_contact col-xs-3">
          <div>
            {% if team.captain %}
              <h2>{{ 'title.team.captain' | trans }}</h2>
              <span class="name">{{ team.captain.getFullname() }}</span>
              <a href="#" class="tel">{{ team.captain.phone }}</a>
              <a href="#" class="email">{{ team.captain.email }}</a>
            {% endif %}
          </div>
          <div>
            {% if team.getManagerName() %}
              <h2>{{ 'title.team.manager' | trans }}</h2>
              <span class="name">{{ team.getManagerName() }}</span>
              <a href="#" class="tel">{{ team.managerPhone }}</a>
              <a href="#" class="email">{{ team.managerEmail }}</a>
            {% endif %}
          </div>
        </div>
    </section>

    <section class="blog">
      <a href="{{ path('slash_app_blog_list') }}"><h1>{{ 'title.official_blog' | trans }}</h1></a>
      <div class="row without_margin">
        <div class="posts row col-xs-9">
          {% for post in posts %}
            <article class="col-xs-4">
              <div class="photo">{% media post.image, 'main' %}</div>
              <h1><a href="{{ path('slash_app_blog_show', {id: post.id}) }}">{{ post.getTitle() }}</a></h1>
              <div class="descr">{{ post.getSubtitle() }}</div>
              <time>{{ post.createdAt.date | localizeddate('short', 'none') }}</time>
            </article>
          {% endfor %}
        </div>
        <div class="calendar col-xs-3">
          Календарь
        </div>
      </div>
    </section>

    <section class="players">
      <a href="{{ path('slash_app_team_players') }}"><h1>{{ 'navigation.players' | trans({}, 'navigation') }}</h1></a>
      {% for player in players %}<div class="player">
          <div class="photo">{% media player.photo, 'small' %}</div>
          {{ player.getName() }}
          {{ player.getSurname() }}
        </div>{% endfor %}
    </section>
    
    <section>
      <h1>{{ 'navigation.video' | trans({}, 'navigation') }}</h1>
      {% for video in videos %}
        <div>{% media video, 'medium' %}</div>
      {% endfor %}
    </section>

    <section class="attr">
      <a href="{{ path('slash_app_products_list') }}"><h1>{{ 'navigation.products' | trans({}, 'navigation') }}</h1></a>
      <div class="row without_margin">
        {% for product in products %}
          <article class="col-xs-3">
            <a href="{{ path('slash_app_product_show', {id: product.id}) }}">
              <div class="photo">{% media product.image, 'small' %}</div>
            </a>
            <a href="{{ path('slash_app_product_show', {id: product.id}) }}">
              {{ product.getName() }}
            </a>
            <div class="price">{{ 'product.price' | trans }} : {{ product.price }}</div>
          </article>
        {% endfor %}
      </div>
    </section>

    <div>
      <h2><a href="{{ path('slash_app_chearleaders') }}">{{ 'navigation.cheerleader' | trans({}, 'navigation') }}</a></h2>
      <div>
        <h3>{{ cl_team.getName() }}</h3>
        {% media cl_team.image, 'main' %}
      </div>
    </div>

    <section class="partners">
      <a href="{{ path('slash_app_partnership') }}"><h1>{{ 'navigation.partnership' | trans({}, 'navigation') }}</h1></a>
      <div class="block">
        <h2>{{ 'title.sponsors' | trans }}</h2>
        {% for s in partnership.sponsors %}
          {% media s.image, 'logo' with {alt: s.getName()} %}
          <span class="name">{{ s.getName() }}</span>
        {% endfor %}
      </div>
      <div class="block">
        <h2>{{ 'title.partners' | trans }}</h2>
        {% for p in partnership.partners %}
          {% media p.image, 'logo' with {alt: p.getName()} %}
          <span class="name">{{ p.getName() }}</span>
        {% endfor %}
      </div>
      <div class="descr text">{{ 'partnership.description' | trans }}</div>
    </div>
  </section>
{% endblock %}